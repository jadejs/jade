/*
 * https://github.com/einars/js-beautify
 * beautify-html.js and beautify.js conacted and minified
 */

function style_html(a,b){function h(){this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.Utils={whitespace:"\n\r\t ".split(""),single_token:"br,input,link,meta,!doctype,basefont,base,area,hr,wbr,param,img,isindex,?xml,embed".split(","),extra_liners:"head,body,/html".split(","),in_array:function(a,b){for(var c=0;c<b.length;c++)if(a===b[c])return!0;return!1}},this.get_content=function(){var a="",b=[],c=!1;while(this.input.charAt(this.pos)!=="<"){if(this.pos>=this.input.length)return b.length?b.join(""):["","TK_EOF"];a=this.input.charAt(this.pos),this.pos++,this.line_char_count++;if(this.Utils.in_array(a,this.Utils.whitespace)){b.length&&(c=!0),this.line_char_count--;continue}if(c){if(this.line_char_count>=this.max_char){b.push("\n");for(var d=0;d<this.indent_level;d++)b.push(this.indent_string);this.line_char_count=0}else b.push(" "),this.line_char_count++;c=!1}b.push(a)}return b.length?b.join(""):""},this.get_script=function(){var a="",b=[],c=new RegExp("</script>","igm");c.lastIndex=this.pos;var d=c.exec(this.input),e=d?d.index:this.input.length;while(this.pos<e){if(this.pos>=this.input.length)return b.length?b.join(""):["","TK_EOF"];a=this.input.charAt(this.pos),this.pos++,b.push(a)}return b.length?b.join(""):""},this.record_tag=function(a){this.tags[a+"count"]?(this.tags[a+"count"]++,this.tags[a+this.tags[a+"count"]]=this.indent_level):(this.tags[a+"count"]=1,this.tags[a+this.tags[a+"count"]]=this.indent_level),this.tags[a+this.tags[a+"count"]+"parent"]=this.tags.parent,this.tags.parent=a+this.tags[a+"count"]},this.retrieve_tag=function(a){if(this.tags[a+"count"]){var b=this.tags.parent;while(b){if(a+this.tags[a+"count"]===b)break;b=this.tags[b+"parent"]}b&&(this.indent_level=this.tags[a+this.tags[a+"count"]],this.tags.parent=this.tags[b+"parent"]),delete this.tags[a+this.tags[a+"count"]+"parent"],delete this.tags[a+this.tags[a+"count"]],this.tags[a+"count"]==1?delete this.tags[a+"count"]:this.tags[a+"count"]--}},this.get_tag=function(){var a="",b=[],c=!1;do{if(this.pos>=this.input.length)return b.length?b.join(""):["","TK_EOF"];a=this.input.charAt(this.pos),this.pos++,this.line_char_count++;if(this.Utils.in_array(a,this.Utils.whitespace)){c=!0,this.line_char_count--;continue}if(a==="'"||a==='"')if(!b[1]||b[1]!=="!")a+=this.get_unformatted(a),c=!0;a==="="&&(c=!1),b.length&&b[b.length-1]!=="="&&a!==">"&&c&&(this.line_char_count>=this.max_char?(this.print_newline(!1,b),this.line_char_count=0):(b.push(" "),this.line_char_count++),c=!1),b.push(a)}while(a!==">");var d=b.join(""),e;d.indexOf(" ")!=-1?e=d.indexOf(" "):e=d.indexOf(">");var f=d.substring(1,e).toLowerCase();if(d.charAt(d.length-2)==="/"||this.Utils.in_array(f,this.Utils.single_token))this.tag_type="SINGLE";else if(f==="script")this.record_tag(f),this.tag_type="SCRIPT";else if(f==="style")this.record_tag(f),this.tag_type="STYLE";else if(f==="a"){var g=this.get_unformatted("</a>",d);b.push(g),this.tag_type="SINGLE"}else if(f.charAt(0)==="!")if(f.indexOf("[if")!=-1){if(d.indexOf("!IE")!=-1){var g=this.get_unformatted("-->",d);b.push(g)}this.tag_type="START"}else if(f.indexOf("[endif")!=-1)this.tag_type="END",this.unindent();else if(f.indexOf("[cdata[")!=-1){var g=this.get_unformatted("]]>",d);b.push(g),this.tag_type="SINGLE"}else{var g=this.get_unformatted("-->",d);b.push(g),this.tag_type="SINGLE"}else f.charAt(0)==="/"?(this.retrieve_tag(f.substring(1)),this.tag_type="END"):(this.record_tag(f),this.tag_type="START"),this.Utils.in_array(f,this.Utils.extra_liners)&&this.print_newline(!0,this.output);return b.join("")},this.get_unformatted=function(a,b){if(b&&b.indexOf(a)!=-1)return"";var c="",d="",e=!0;do{if(this.pos>=this.input.length)return d;c=this.input.charAt(this.pos),this.pos++;if(this.Utils.in_array(c,this.Utils.whitespace)){if(!e){this.line_char_count--;continue}if(c==="\n"||c==="\r"){d+="\n";for(var f=0;f<this.indent_level;f++)d+=this.indent_string;e=!1,this.line_char_count=0;continue}}d+=c,this.line_char_count++,e=!0}while(d.indexOf(a)==-1);return d},this.get_token=function(){var a;if(this.last_token==="TK_TAG_SCRIPT"){var b=this.get_script();if(typeof b!="string")return b;a=js_beautify(b.replace(/^[\r\n]+/,""),{indent_size:this.indent_size,indent_char:this.indent_character,brace_style:this.brace_style});return[a,"TK_CONTENT"]}if(this.current_mode==="CONTENT"){a=this.get_content();return typeof a!="string"?a:[a,"TK_CONTENT"]}if(this.current_mode==="TAG"){a=this.get_tag();if(typeof a!="string")return a;var c="TK_TAG_"+this.tag_type;return[a,c]}},this.printer=function(a,b,c,d,e){this.input=a||"",this.output=[],this.indent_character=b,this.indent_string="",this.indent_size=c,this.brace_style=e,this.indent_level=0,this.max_char=d,this.line_char_count=0;for(var f=0;f<this.indent_size;f++)this.indent_string+=this.indent_character;this.print_newline=function(a,b){this.line_char_count=0;if(!!b&&!!b.length){if(!a)while(this.Utils.in_array(b[b.length-1],this.Utils.whitespace))b.pop();b.push("\n");for(var c=0;c<this.indent_level;c++)b.push(this.indent_string)}},this.print_token=function(a){this.output.push(a)},this.indent=function(){this.indent_level++},this.unindent=function(){this.indent_level>0&&this.indent_level--}};return this}var c,d,e,f,g;b=b||{},d=b.indent_size||4,e=b.indent_char||" ",g=b.brace_style||"collapse",f=b.max_char||"70",c=new h,c.printer(a,e,d,f,g);for(;;){var i=c.get_token();c.token_text=i[0],c.token_type=i[1];if(c.token_type==="TK_EOF")break;switch(c.token_type){case"TK_TAG_START":case"TK_TAG_STYLE":c.print_newline(!1,c.output),c.print_token(c.token_text),c.indent(),c.current_mode="CONTENT";break;case"TK_TAG_SCRIPT":c.print_newline(!1,c.output),c.print_token(c.token_text),c.current_mode="CONTENT";break;case"TK_TAG_END":c.print_newline(!0,c.output),c.print_token(c.token_text),c.current_mode="CONTENT";break;case"TK_TAG_SINGLE":c.print_newline(!1,c.output),c.print_token(c.token_text),c.current_mode="CONTENT";break;case"TK_CONTENT":c.token_text!==""&&(c.print_newline(!1,c.output),c.print_token(c.token_text)),c.current_mode="TAG"}c.last_token=c.token_type,c.last_text=c.token_text}return c.output.join("")}function js_beautify(a,b){function V(){x=0;if(p>=G)return["","TK_EOF"];v=!1;var a=c.charAt(p);p+=1;var b=F&&Q(j.mode);if(b){var e=0;while(U(a,m)){a==="\n"?(H(),d.push("\n"),w=!0,e=0):a==="\t"?e+=4:a!=="\r"&&(e+=1);if(p>=G)return["","TK_EOF"];a=c.charAt(p),p+=1}j.indentation_baseline===-1&&(j.indentation_baseline=e);if(w){var h;for(h=0;h<j.indentation_level+1;h+=1)d.push(l);if(j.indentation_baseline!==-1)for(h=0;h<e-j.indentation_baseline;h++)d.push(" ")}}else{while(U(a,m)){a==="\n"&&(x+=D?x<=D?1:0:1);if(p>=G)return["","TK_EOF"];a=c.charAt(p),p+=1}if(C&&x>1)for(h=0;h<x;h+=1)K(h===0),w=!0;v=x>0}if(U(a,n)){if(p<G)while(U(c.charAt(p),n)){a+=c.charAt(p),p+=1;if(p===G)break}if(p!==G&&a.match(/^[0-9]+[Ee]$/)&&(c.charAt(p)==="-"||c.charAt(p)==="+")){var i=c.charAt(p);p+=1;var k=V(p);a+=i+k[0];return[a,"TK_WORD"]}if(a==="in")return[a,"TK_OPERATOR"];v&&f!=="TK_OPERATOR"&&f!=="TK_EQUALS"&&!j.if_line&&(C||g!=="var")&&K();return[a,"TK_WORD"]}if(a==="("||a==="[")return[a,"TK_START_EXPR"];if(a===")"||a==="]")return[a,"TK_END_EXPR"];if(a==="{")return[a,"TK_START_BLOCK"];if(a==="}")return[a,"TK_END_BLOCK"];if(a===";")return[a,"TK_SEMICOLON"];if(a==="/"){var q="",s=!0;if(c.charAt(p)==="*"){p+=1;if(p<G)while((c.charAt(p)!=="*"||!c.charAt(p+1)||c.charAt(p+1)!=="/")&&p<G){a=c.charAt(p),q+=a;if(a==="\r"||a==="\n")s=!1;p+=1;if(p>=G)break}p+=2;return s?["/*"+q+"*/","TK_INLINE_COMMENT"]:["/*"+q+"*/","TK_BLOCK_COMMENT"]}if(c.charAt(p)==="/"){q=a;while(c.charAt(p)!=="\r"&&c.charAt(p)!=="\n"){q+=c.charAt(p),p+=1;if(p>=G)break}p+=1,v&&K();return[q,"TK_COMMENT"]}}if(a==="'"||a==='"'||a==="/"&&(f==="TK_WORD"&&U(g,["return","do"])||f==="TK_COMMENT"||f==="TK_START_EXPR"||f==="TK_START_BLOCK"||f==="TK_END_BLOCK"||f==="TK_OPERATOR"||f==="TK_EQUALS"||f==="TK_EOF"||f==="TK_SEMICOLON")){var t=a,u=!1,y=a;if(p<G)if(t==="/"){var z=!1;while(u||z||c.charAt(p)!==t){y+=c.charAt(p),u?u=!1:(u=c.charAt(p)==="\\",c.charAt(p)==="["?z=!0:c.charAt(p)==="]"&&(z=!1)),p+=1;if(p>=G)return[y,"TK_STRING"]}}else while(u||c.charAt(p)!==t){y+=c.charAt(p),u?u=!1:u=c.charAt(p)==="\\",p+=1;if(p>=G)return[y,"TK_STRING"]}p+=1,y+=t;if(t==="/")while(p<G&&U(c.charAt(p),n))y+=c.charAt(p),p+=1;return[y,"TK_STRING"]}if(a==="#"){if(d.length===0&&c.charAt(p)==="!"){y=a;while(p<G&&a!="\n")a=c.charAt(p),y+=a,p+=1;d.push(I(y)+"\n"),K();return V()}var A="#";if(p<G&&U(c.charAt(p),r)){do a=c.charAt(p),A+=a,p+=1;while(p<G&&a!=="#"&&a!=="=");a!=="#"&&(c.charAt(p)==="["&&c.charAt(p+1)==="]"?(A+="[]",p+=2):c.charAt(p)==="{"&&c.charAt(p+1)==="}"&&(A+="{}",p+=2));return[A,"TK_WORD"]}}if(a==="<"&&c.substring(p-1,p+3)==="<!--"){p+=3,j.in_html_comment=!0;return["<!--","TK_COMMENT"]}if(a==="-"&&j.in_html_comment&&c.substring(p-1,p+2)==="-->"){j.in_html_comment=!1,p+=2,v&&K();return["-->","TK_COMMENT"]}if(U(a,o)){while(p<G&&U(a+c.charAt(p),o)){a+=c.charAt(p),p+=1;if(p>=G)break}return a==="="?[a,"TK_EQUALS"]:[a,"TK_OPERATOR"]}return[a,"TK_UNKNOWN"]}function U(a,b){for(var c=0;c<b.length;c+=1)if(b[c]===a)return!0;return!1}function T(a,b){for(var c=0;c<a.length;c++)if(I(a[c])[0]!=b)return!1;return!0}function S(){u=j.mode==="DO_BLOCK",k.length>0&&(j=k.pop())}function R(a){return a==="[EXPRESSION]"||a==="[INDENTED-EXPRESSION]"||a==="(EXPRESSION)"}function Q(a){return a==="[EXPRESSION]"||a==="[INDENTED-EXPRESSION]"}function P(a){j&&k.push(j),j={previous_mode:j?j.mode:"BLOCK",mode:a,var_line:!1,var_line_tainted:!1,var_line_reindented:!1,in_html_comment:!1,if_line:!1,in_case:!1,eat_next_space:!1,indentation_baseline:-1,indentation_level:j?j.indentation_level+(j.var_line&&j.var_line_reindented?1:0):0,ternary_depth:0}}function O(){d.length&&d[d.length-1]===l&&d.pop()}function N(){j.indentation_level+=1}function M(){w=!1,j.eat_next_space=!1,d.push(e)}function L(){if(j.eat_next_space)j.eat_next_space=!1;else{var a=" ";d.length&&(a=d[d.length-1]),a!==" "&&a!=="\n"&&a!==l&&d.push(" ")}}function K(a){j.eat_next_space=!1;if(!F||!Q(j.mode)){a=typeof a=="undefined"?!0:a,j.if_line=!1,H();if(!d.length)return;if(d[d.length-1]!=="\n"||!a)w=!0,d.push("\n");y&&d.push(y);for(var b=0;b<j.indentation_level;b+=1)d.push(l);j.var_line&&j.var_line_reindented&&d.push(l)}}function J(){var a=F;F=!1,K(),F=a}function I(a){return a.replace(/^\s\s*|\s\s*$/,"")}function H(a){a=typeof a=="undefined"?!1:a;while(d.length&&(d[d.length-1]===" "||d[d.length-1]===l||d[d.length-1]===y||a&&(d[d.length-1]==="\n"||d[d.length-1]==="\r")))d.pop()}var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y="";b=b?b:{};var z;b.space_after_anon_function!==undefined&&b.jslint_happy===undefined&&(b.jslint_happy=b.space_after_anon_function),b.braces_on_own_line!==undefined&&(z=b.braces_on_own_line?"expand":"collapse"),z=b.brace_style?b.brace_style:z?z:"collapse";var A=b.indent_size?b.indent_size:4,B=b.indent_char?b.indent_char:" ",C=typeof b.preserve_newlines=="undefined"?!0:b.preserve_newlines,D=typeof b.max_preserve_newlines=="undefined"?!1:b.max_preserve_newlines,E=b.jslint_happy==="undefined"?!1:b.jslint_happy,F=typeof b.keep_array_indentation=="undefined"?!1:b.keep_array_indentation;w=!1;var G=a.length;l="";while(A>0)l+=B,A-=1;while(a&&(a[0]===" "||a[0]==="\t"))y+=a[0],a=a.substring(1);c=a,i="",f="TK_START_EXPR",g="",h="",d=[],u=!1,m="\n\r\t ".split(""),n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_$".split(""),r="0123456789".split(""),o="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! !! , : ? ^ ^= |= ::".split(" "),q="continue,try,throw,return,var,if,switch,case,default,for,while,break,function".split(","),k=[],P("BLOCK"),p=0;for(;;){var W=V(p);e=W[0],t=W[1];if(t==="TK_EOF")break;switch(t){case"TK_START_EXPR":if(e==="["){if(f==="TK_WORD"||g===")"){U(g,q)&&L(),P("(EXPRESSION)"),M();break}j.mode==="[EXPRESSION]"||j.mode==="[INDENTED-EXPRESSION]"?h==="]"&&g===","?(j.mode==="[EXPRESSION]"&&(j.mode="[INDENTED-EXPRESSION]",F||N()),P("[EXPRESSION]"),F||K()):g==="["?(j.mode==="[EXPRESSION]"&&(j.mode="[INDENTED-EXPRESSION]",F||N()),P("[EXPRESSION]"),F||K()):P("[EXPRESSION]"):P("[EXPRESSION]")}else P("(EXPRESSION)");g===";"||f==="TK_START_BLOCK"?K():f!=="TK_END_EXPR"&&f!=="TK_START_EXPR"&&f!=="TK_END_BLOCK"&&g!=="."&&(f!=="TK_WORD"&&f!=="TK_OPERATOR"?L():i==="function"||i==="typeof"?E&&L():(U(g,q)||g==="catch")&&L()),M();break;case"TK_END_EXPR":if(e==="]")if(F){if(g==="}"){O(),M(),S();break}}else if(j.mode==="[INDENTED-EXPRESSION]"&&g==="]"){S(),K(),M();break}S(),M();break;case"TK_START_BLOCK":i==="do"?P("DO_BLOCK"):P("BLOCK"),z=="expand"?(f!=="TK_OPERATOR"&&(g==="return"||g==="="?L():K(!0)),M(),N()):(f!=="TK_OPERATOR"&&f!=="TK_START_EXPR"?f==="TK_START_BLOCK"?K():L():Q(j.previous_mode)&&g===","&&(h==="}"?L():K()),N(),M());break;case"TK_END_BLOCK":S(),z=="expand"?(g!=="{"&&K(),M()):(f==="TK_START_BLOCK"?w?O():H():Q(j.mode)&&F?(F=!1,K(),F=!0):K(),M());break;case"TK_WORD":if(u){L(),M(),L(),u=!1;break}if(e==="function"){j.var_line&&(j.var_line_reindented=!0);if((w||g===";")&&g!=="{"){x=w?x:0,C||(x=1);for(var X=0;X<2-x;X++)K(!1)}}if(e==="case"||e==="default"){g===":"?O():(j.indentation_level--,K(),j.indentation_level++),M(),j.in_case=!0;break}s="NONE",f==="TK_END_BLOCK"?U(e.toLowerCase(),["else","catch","finally"])?z=="expand"||z=="end-expand"?s="NEWLINE":(s="SPACE",L()):s="NEWLINE":f!=="TK_SEMICOLON"||j.mode!=="BLOCK"&&j.mode!=="DO_BLOCK"?f==="TK_SEMICOLON"&&R(j.mode)?s="SPACE":f==="TK_STRING"?s="NEWLINE":f==="TK_WORD"?(g==="else"&&H(!0),s="SPACE"):f==="TK_START_BLOCK"?s="NEWLINE":f==="TK_END_EXPR"&&(L(),s="NEWLINE"):s="NEWLINE",U(e,q)&&g!==")"&&(g=="else"?s="SPACE":s="NEWLINE"),j.if_line&&f==="TK_END_EXPR"&&(j.if_line=!1);if(U(e.toLowerCase(),["else","catch","finally"]))f!=="TK_END_BLOCK"||z=="expand"||z=="end-expand"?K():(H(!0),L());else if(s==="NEWLINE"){if(f!=="TK_START_EXPR"&&g!=="="&&g!==","||e!=="function")e==="function"&&g=="new"?L():g==="return"||g==="throw"?L():f!=="TK_END_EXPR"?(f!=="TK_START_EXPR"||e!=="var")&&g!==":"&&(e==="if"&&i==="else"&&g!=="{"?L():(j.var_line=!1,j.var_line_reindented=!1,K())):U(e,q)&&g!=")"&&(j.var_line=!1,j.var_line_reindented=!1,K())}else Q(j.mode)&&g===","&&h==="}"?K():s==="SPACE"&&L();M(),i=e,e==="var"&&(j.var_line=!0,j.var_line_reindented=!1,j.var_line_tainted=!1),e==="if"&&(j.if_line=!0),e==="else"&&(j.if_line=!1);break;case"TK_SEMICOLON":M(),j.var_line=!1,j.var_line_reindented=!1,j.mode=="OBJECT"&&(j.mode="BLOCK");break;case"TK_STRING":f==="TK_START_BLOCK"||f==="TK_END_BLOCK"||f==="TK_SEMICOLON"?K():f==="TK_WORD"&&L(),M();break;case"TK_EQUALS":j.var_line&&(j.var_line_tainted=!0),L(),M(),L();break;case"TK_OPERATOR":var Y=!0,Z=!0;j.var_line&&e===","&&R(j.mode)&&(j.var_line_tainted=!1);if(j.var_line&&e===","){if(j.var_line_tainted){M(),j.var_line_reindented=!0,j.var_line_tainted=!1,K();break}j.var_line_tainted=!1}if(g==="return"||g==="throw"){L(),M();break}if(e===":"&&j.in_case){M(),K(),j.in_case=!1;break}if(e==="::"){M();break}if(e===","){j.var_line?j.var_line_tainted?(M(),K(),j.var_line_tainted=!1):(M(),L()):f==="TK_END_BLOCK"&&j.mode!=="(EXPRESSION)"?(M(),j.mode==="OBJECT"&&g==="}"?K():L()):j.mode==="OBJECT"?(M(),K()):(M(),L());break}U(e,["--","++","!"])||U(e,["-","+"])&&(U(f,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||U(g,q))?(Y=!1,Z=!1,g===";"&&R(j.mode)&&(Y=!0),f==="TK_WORD"&&U(g,q)&&(Y=!0),j.mode==="BLOCK"&&(g==="{"||g===";")&&K()):e==="."?Y=!1:e===":"?j.ternary_depth==0?(j.mode="OBJECT",Y=!1):j.ternary_depth-=1:e==="?"&&(j.ternary_depth+=1),Y&&L(),M(),Z&&L(),e!=="!";break;case"TK_BLOCK_COMMENT":var $=e.split(/\x0a|\x0d\x0a/);if(T($.slice(1),"*")){K(),d.push($[0]);for(X=1;X<$.length;X++)K(),d.push(" "),d.push(I($[X]))}else{$.length>1?(K(),H()):L();for(X=0;X<$.length;X++)d.push($[X]),d.push("\n")}K();break;case"TK_INLINE_COMMENT":L(),M(),R(j.mode)?L():J();break;case"TK_COMMENT":v?K():L(),M(),J();break;case"TK_UNKNOWN":(g==="return"||g==="throw")&&L(),M()}h=g,f=t,g=e}var _=y+d.join("").replace(/[\n ]+$/,"");return _}typeof exports!="undefined"&&(exports.js_beautify=js_beautify)
